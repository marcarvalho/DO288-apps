[student@workstation ~]$ cd DO288-apps/
[student@workstation DO288-apps]$ git checkout -b marcao001
Switched to a new branch 'marcao001'
[student@workstation DO288-apps]$ git status
# On branch marcao001
nothing to commit, working directory clean
[student@workstation DO288-apps]$ c ..
bash: c: command not found...
[student@workstation DO288-apps]$ cd ~
[student@workstation ~]$ lab docker-build start

Checking prerequisites for GE: Deploying an Application to an OpenShift Cluster

 Checking local clone of the applications repository:
 · Folder '/home/student/DO288-apps' is a git repo.............  SUCCESS
 · Git repo '/home/student/DO288-apps' has no pending changes..  SUCCESS
 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check master node na45-mh9qn-master-0 is ready..............  SUCCESS
 · Check master node na45-mh9qn-master-1 is ready..............  SUCCESS
 · Check master node na45-mh9qn-master-2 is ready..............  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 Checking required artifacts:
 · Project 'ubi-echo' exists in student's GitHub fork..........  SUCCESS
 Checking for conflicts with existing OpenShift projects:
 · Project 'mprj-marco-carvalho-docker-build' is absent........  SUCCESS

Setting up the classroom for GE: Deploying an Application to an OpenShift Cluster

 · Download exercise files.....................................  SUCCESS
 · Download solution files.....................................  SUCCESS

Overall start status...........................................  SUCCESS

[student@workstation ~]$ cd DO288
[student@workstation DO288]$ git checkout -b docker-build
fatal: Not a git repository (or any of the parent directories): .git
[student@workstation DO288]$ git status
fatal: Not a git repository (or any of the parent directories): .git
[student@workstation DO288]$ cd ..
[student@workstation ~]$ cd DO288
DO288/      DO288-apps/ 
[student@workstation ~]$ cd DO288
DO288/      DO288-apps/ 
[student@workstation ~]$ cd DO288-apps/
[student@workstation DO288-apps]$ git checkout -b docker-build
Switched to a new branch 'docker-build'
[student@workstation DO288-apps]$ git status
# On branch docker-build
nothing to commit, working directory clean
[student@workstation DO288-apps]$ git push 
fatal: The current branch docker-build has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin docker-build

[student@workstation DO288-apps]$ git checkout -b marcao001
fatal: A branch named 'marcao001' already exists.
[student@workstation DO288-apps]$ git status
# On branch docker-build
nothing to commit, working directory clean
[student@workstation DO288-apps]$ git checkout marcao001
Switched to branch 'marcao001'
[student@workstation DO288-apps]$ git push -u origin marcao001
Username for 'https://github.com': marcarvalho
Password for 'https://marcarvalho@github.com': 
Total 0 (delta 0), reused 0 (delta 0)
remote: 
remote: Create a pull request for 'marcao001' on GitHub by visiting:
remote:      https://github.com/marcarvalho/DO288-apps/pull/new/marcao001
remote: 
To https://github.com/marcarvalho/DO288-apps.git
 * [new branch]      marcao001 -> marcao001
Branch marcao001 set up to track remote branch marcao001 from origin.
[student@workstation DO288-apps]$ git checkout docker-build
Switched to branch 'docker-build'
[student@workstation DO288-apps]$ git push -u origin docker-build
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/marcarvalho/DO288-apps.git
   d3b6fa2..20d7733  docker-build -> docker-build
Branch docker-build set up to track remote branch docker-build from origin.
[student@workstation DO288-apps]$ cat ubi-echo/Dockerfile 
FROM registry.access.redhat.com/ubi8/ubi:8.0
USER 1001
CMD bash -c "while true; do echo test; sleep 5; done"
[student@workstation DO288-apps]$ source /usr/local/etc/ocp4.config 
[student@workstation DO288-apps]$ oc login -u ${RHT_OCP4_DEV_USER}  -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation DO288-apps]$ oc new-project ${RHT_OCP4_DEV_USER}-docker-build
Now using project "mprj-marco-carvalho-docker-build" on server "https://api.na45.prod.nextcle.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app ruby~https://github.com/sclorg/ruby-ex.git

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=gcr.io/hello-minikube-zero-install/hello-node

[student@workstation DO288-apps]$ oc new-app --as-deployment-config --name=echo  https://github.com/${RHT_OCP4_GITHUB_USER}/DO288-apps#docker-build  --context-dir=ubi-echo
--> Found container image 11f9dba (14 months old) from registry.access.redhat.com for "registry.access.redhat.com/ubi8/ubi:8.0"

    Red Hat Universal Base Image 8 
    ------------------------------ 
    The Universal Base Image is designed and engineered to be the base layer for all of your containerized applications, middleware and utilities. This base image is freely redistributable, but Red Hat only supports Red Hat technologies through subscriptions for Red Hat products. This image is maintained by Red Hat and updated regularly.

    Tags: base rhel8

    * An image stream tag will be created as "ubi:8.0" that will track the source image
    * A Docker build using source code from https://github.com/marcarvalho/DO288-apps#docker-build will be created
      * The resulting image will be pushed to image stream tag "echo:latest"
      * Every time "ubi:8.0" changes a new build will be triggered
    * This image will be deployed in deployment config "echo"
    * The image does not expose any ports - if you want to load balance or send traffic to this component
      you will need to create a service with 'oc expose dc/echo --port=[port]' later
    * WARNING: Image "registry.access.redhat.com/ubi8/ubi:8.0" runs as the 'root' user which may not be permitted by your cluster administrator

--> Creating resources ...
    imagestream.image.openshift.io "ubi" created
    imagestream.image.openshift.io "echo" created
    buildconfig.build.openshift.io "echo" created
    deploymentconfig.apps.openshift.io "echo" created
--> Success
    Build scheduled, use 'oc logs -f bc/echo' to track its progress.
    Run 'oc status' to view your app.
[student@workstation DO288-apps]$ oc logs -f b
books/     build-app/ 
[student@workstation DO288-apps]$ oc logs -f b
books/     build-app/ 
[student@workstation DO288-apps]$ oc logs -f b
books/     build-app/ 
[student@workstation DO288-apps]$ oc logs -f bc/echo
Cloning "https://github.com/marcarvalho/DO288-apps" ...
	Commit:	20d773370efdfce3221f56348ba2c544558a58a3 (fix: Add a missing license file for the repository (#48))
	Author:	Marek Czernek <mczernek@redhat.com>
	Date:	Tue Jul 28 16:04:10 2020 +0200
Replaced Dockerfile FROM image registry.access.redhat.com/ubi8/ubi:8.0
Caching blobs under "/var/cache/blobs".

Pulling image registry.access.redhat.com/ubi8/ubi@sha256:8275e2ad7f458e329bdc8c0e7543cff1729998fe515a281d49638246de8e39ee ...
Getting image source signatures
Copying blob sha256:641d7cc5cbc48a13c68806cf25d5bcf76ea2157c3181e1db4f5d0edae34954ac
Copying blob sha256:c65691897a4d140d441e2024ce086de996b1c4620832b90c973db81329577274
Copying config sha256:11f9dba4d1bc7bbead64adb8fd73ea92dca5fac88a9b5c2c9796abcf2e97846d
Writing manifest to image destination
Storing signatures
STEP 1: FROM registry.access.redhat.com/ubi8/ubi@sha256:8275e2ad7f458e329bdc8c0e7543cff1729998fe515a281d49638246de8e39ee
STEP 2: USER 1001
time="2020-11-30T05:52:49Z" level=info msg="Image operating system mismatch: image uses OS \"\"+architecture \"\", expecting one of \"linux+amd64\""
--> 871df259750
STEP 3: CMD bash -c "while true; do echo test; sleep 5; done"
time="2020-11-30T05:52:49Z" level=info msg="Image operating system mismatch: image uses OS \"\"+architecture \"\", expecting one of \"linux+amd64\""
--> b0b94585f6c
STEP 4: ENV "OPENSHIFT_BUILD_NAME"="echo-1" "OPENSHIFT_BUILD_NAMESPACE"="mprj-marco-carvalho-docker-build" "OPENSHIFT_BUILD_SOURCE"="https://github.com/marcarvalho/DO288-apps" "OPENSHIFT_BUILD_REFERENCE"="docker-build" "OPENSHIFT_BUILD_COMMIT"="20d773370efdfce3221f56348ba2c544558a58a3"
time="2020-11-30T05:52:49Z" level=info msg="Image operating system mismatch: image uses OS \"\"+architecture \"\", expecting one of \"linux+amd64\""
--> 497e066c6c0
STEP 5: LABEL "io.openshift.build.commit.author"="Marek Czernek \u003cmczernek@redhat.com\u003e" "io.openshift.build.commit.date"="Tue Jul 28 16:04:10 2020 +0200" "io.openshift.build.commit.id"="20d773370efdfce3221f56348ba2c544558a58a3" "io.openshift.build.commit.message"="fix: Add a missing license file for the repository (#48)" "io.openshift.build.commit.ref"="docker-build" "io.openshift.build.name"="echo-1" "io.openshift.build.namespace"="mprj-marco-carvalho-docker-build" "io.openshift.build.source-context-dir"="ubi-echo" "io.openshift.build.source-location"="https://github.com/marcarvalho/DO288-apps"
STEP 6: COMMIT temp.builder.openshift.io/mprj-marco-carvalho-docker-build/echo-1:7ee7b6ad
time="2020-11-30T05:52:49Z" level=info msg="Image operating system mismatch: image uses OS \"\"+architecture \"\", expecting one of \"linux+amd64\""
--> eb792024136
eb79202413649768cbe504c8242a6703f3df34d0170b4ce51f0b7a289184c996

Pushing image image-registry.openshift-image-registry.svc:5000/mprj-marco-carvalho-docker-build/echo:latest ...
Getting image source signatures
Copying blob sha256:641d7cc5cbc48a13c68806cf25d5bcf76ea2157c3181e1db4f5d0edae34954ac
Copying blob sha256:c65691897a4d140d441e2024ce086de996b1c4620832b90c973db81329577274
Copying config sha256:eb79202413649768cbe504c8242a6703f3df34d0170b4ce51f0b7a289184c996
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/mprj-marco-carvalho-docker-build/echo@sha256:9492c2d27fc1d172425d2f1424232296b6133056fe0b7613029f67d6764ecaf8
Push successful
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc status
In project mprj-marco-carvalho-docker-build on server https://api.na45.prod.nextcle.com:6443

dc/echo deploys istag/echo:latest <-
  bc/echo docker builds https://github.com/marcarvalho/DO288-apps#docker-build on istag/ubi:8.0 
  deployment #1 deployed 5 minutes ago - 1 pod


2 infos identified, use 'oc status --suggest' to see details.
[student@workstation DO288-apps]$ oc status --sugest
Error: unknown flag: --sugest
See 'oc status --help' for usage.
[student@workstation DO288-apps]$ oc status --suggest
In project mprj-marco-carvalho-docker-build on server https://api.na45.prod.nextcle.com:6443

dc/echo deploys istag/echo:latest <-
  bc/echo docker builds https://github.com/marcarvalho/DO288-apps#docker-build on istag/ubi:8.0 
  deployment #1 deployed 6 minutes ago - 1 pod

Info:
  * dc/echo has no readiness probe to verify pods are ready to accept traffic or ensure deployment is successful.
    try: oc set probe dc/echo --readiness ...
  * dc/echo has no liveness probe to verify pods are still running.
    try: oc set probe dc/echo --liveness ...

View details with 'oc describe <resource>/<name>' or list everything with 'oc get all'.
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc get pods
NAME            READY   STATUS      RESTARTS   AGE
echo-1-build    0/1     Completed   0          6m54s
echo-1-deploy   0/1     Completed   0          6m34s
echo-1-jn7d9    1/1     Running     0          6m31s
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc logs echo-1-jn7d9
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
[student@workstation DO288-apps]$ oc decribe bc/echo
Error: unknown command "decribe" for "oc"

Did you mean this?
	describe

Run 'oc --help' for usage.
[student@workstation DO288-apps]$ oc describe bc/echo
Name:		echo
Namespace:	mprj-marco-carvalho-docker-build
Created:	9 minutes ago
Labels:		app=echo
		app.kubernetes.io/component=echo
		app.kubernetes.io/instance=echo
Annotations:	openshift.io/generated-by=OpenShiftNewApp
Latest Version:	1

Strategy:	Docker
URL:		https://github.com/marcarvalho/DO288-apps
Ref:		docker-build
ContextDir:	ubi-echo
From Image:	ImageStreamTag ubi:8.0
Output to:	ImageStreamTag echo:latest

Build Run Policy:	Serial
Triggered by:		Config, ImageChange
Webhook GitHub:
	URL:	https://api.na45.prod.nextcle.com:6443/apis/build.openshift.io/v1/namespaces/mprj-marco-carvalho-docker-build/buildconfigs/echo/webhooks/<secret>/github
Webhook Generic:
	URL:		https://api.na45.prod.nextcle.com:6443/apis/build.openshift.io/v1/namespaces/mprj-marco-carvalho-docker-build/buildconfigs/echo/webhooks/<secret>/generic
	AllowEnv:	false
Builds History Limit:
	Successful:	5
	Failed:		5

Build	Status		Duration	Creation Time
echo-1 	complete 	19s 		2020-11-30 00:52:32 -0500 EST

Events:
  Type		Reason				Age			From			Message
  ----		------				----			----			-------
  Warning	BuildConfigInstantiateFailed	9m8s (x5 over 9m8s)	buildconfig-controller	error instantiating Build from BuildConfig mprj-marco-carvalho-docker-build/echo (0): Error resolving ImageStreamTag ubi:8.0 in namespace mprj-marco-carvalho-docker-build: unable to find latest tagged image
  Warning	BuildConfigTriggerFailed	9m7s			buildconfig-controller	error triggering Build for BuildConfig mprj-marco-carvalho-docker-build/echo: Internal error occurred: build config mprj-marco-carvalho-docker-build/echo has already instantiated a build for imageid registry.access.redhat.com/ubi8/ubi@sha256:8275e2ad7f458e329bdc8c0e7543cff1729998fe515a281d49638246de8e39ee
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc describe is/echo
Name:			echo
Namespace:		mprj-marco-carvalho-docker-build
Created:		11 minutes ago
Labels:			app=echo
			app.kubernetes.io/component=echo
			app.kubernetes.io/instance=echo
Annotations:		openshift.io/generated-by=OpenShiftNewApp
Image Repository:	default-route-openshift-image-registry.apps.na45.prod.nextcle.com/mprj-marco-carvalho-docker-build/echo
Image Lookup:		local=false
Unique Images:		1
Tags:			1

latest
  no spec tag

  * image-registry.openshift-image-registry.svc:5000/mprj-marco-carvalho-docker-build/echo@sha256:9492c2d27fc1d172425d2f1424232296b6133056fe0b7613029f67d6764ecaf8
      11 minutes ago
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc describe dc/echo
Name:		echo
Namespace:	mprj-marco-carvalho-docker-build
Created:	12 minutes ago
Labels:		app=echo
		app.kubernetes.io/component=echo
		app.kubernetes.io/instance=echo
Annotations:	openshift.io/generated-by=OpenShiftNewApp
Latest Version:	1
Selector:	deploymentconfig=echo
Replicas:	1
Triggers:	Config, Image(echo@latest, auto=true)
Strategy:	Rolling
Template:
Pod Template:
  Labels:	deploymentconfig=echo
  Annotations:	openshift.io/generated-by: OpenShiftNewApp
  Containers:
   echo:
    Image:		image-registry.openshift-image-registry.svc:5000/mprj-marco-carvalho-docker-build/echo@sha256:9492c2d27fc1d172425d2f1424232296b6133056fe0b7613029f67d6764ecaf8
    Port:		<none>
    Host Port:		<none>
    Environment:	<none>
    Mounts:		<none>
  Volumes:		<none>

Deployment #1 (latest):
	Name:		echo-1
	Created:	12 minutes ago
	Status:		Complete
	Replicas:	1 current / 1 desired
	Selector:	deployment=echo-1,deploymentconfig=echo
	Labels:		app.kubernetes.io/component=echo,app.kubernetes.io/instance=echo,app=echo,openshift.io/deployment-config.name=echo
	Pods Status:	1 Running / 0 Waiting / 0 Succeeded / 0 Failed

Events:
  Type		Reason			Age	From				Message
  ----		------			----	----				-------
  Normal	DeploymentCreated	12m	deploymentconfig-controller	Created new replication controller "echo-1" for version 1
[student@workstation DO288-apps]$ nano ubi-echo/Dockerfile 
[student@workstation DO288-apps]$ git commit -m 'added a counter'
# On branch docker-build
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   ubi-echo/Dockerfile
#
no changes added to commit (use "git add" and/or "git commit -a")
[student@workstation DO288-apps]$ git push
Everything up-to-date
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc start-build -F echo
build.build.openshift.io/echo-2 started
Cloning "https://github.com/marcarvalho/DO288-apps" ...
	Commit:	20d773370efdfce3221f56348ba2c544558a58a3 (fix: Add a missing license file for the repository (#48))
	Author:	Marek Czernek <mczernek@redhat.com>
	Date:	Tue Jul 28 16:04:10 2020 +0200
Replaced Dockerfile FROM image registry.access.redhat.com/ubi8/ubi:8.0
Caching blobs under "/var/cache/blobs".

Pulling image registry.access.redhat.com/ubi8/ubi@sha256:8275e2ad7f458e329bdc8c0e7543cff1729998fe515a281d49638246de8e39ee ...
Getting image source signatures
Copying blob sha256:c65691897a4d140d441e2024ce086de996b1c4620832b90c973db81329577274
Copying blob sha256:641d7cc5cbc48a13c68806cf25d5bcf76ea2157c3181e1db4f5d0edae34954ac
Copying config sha256:11f9dba4d1bc7bbead64adb8fd73ea92dca5fac88a9b5c2c9796abcf2e97846d
Writing manifest to image destination
Storing signatures
STEP 1: FROM registry.access.redhat.com/ubi8/ubi@sha256:8275e2ad7f458e329bdc8c0e7543cff1729998fe515a281d49638246de8e39ee
STEP 2: USER 1001
time="2020-11-30T06:12:09Z" level=info msg="Image operating system mismatch: image uses OS \"\"+architecture \"\", expecting one of \"linux+amd64\""
--> 84fbf8de214
STEP 3: CMD bash -c "while true; do echo test; sleep 5; done"
time="2020-11-30T06:12:09Z" level=info msg="Image operating system mismatch: image uses OS \"\"+architecture \"\", expecting one of \"linux+amd64\""
--> a3d351009e8
STEP 4: ENV "OPENSHIFT_BUILD_NAME"="echo-2" "OPENSHIFT_BUILD_NAMESPACE"="mprj-marco-carvalho-docker-build" "OPENSHIFT_BUILD_SOURCE"="https://github.com/marcarvalho/DO288-apps" "OPENSHIFT_BUILD_REFERENCE"="docker-build" "OPENSHIFT_BUILD_COMMIT"="20d773370efdfce3221f56348ba2c544558a58a3"
time="2020-11-30T06:12:09Z" level=info msg="Image operating system mismatch: image uses OS \"\"+architecture \"\", expecting one of \"linux+amd64\""
--> 1bc379ebd6a
STEP 5: LABEL "io.openshift.build.commit.author"="Marek Czernek \u003cmczernek@redhat.com\u003e" "io.openshift.build.commit.date"="Tue Jul 28 16:04:10 2020 +0200" "io.openshift.build.commit.id"="20d773370efdfce3221f56348ba2c544558a58a3" "io.openshift.build.commit.message"="fix: Add a missing license file for the repository (#48)" "io.openshift.build.commit.ref"="docker-build" "io.openshift.build.name"="echo-2" "io.openshift.build.namespace"="mprj-marco-carvalho-docker-build" "io.openshift.build.source-context-dir"="ubi-echo" "io.openshift.build.source-location"="https://github.com/marcarvalho/DO288-apps"
STEP 6: COMMIT temp.builder.openshift.io/mprj-marco-carvalho-docker-build/echo-2:c389662b
time="2020-11-30T06:12:09Z" level=info msg="Image operating system mismatch: image uses OS \"\"+architecture \"\", expecting one of \"linux+amd64\""
--> 773b4964d0c
773b4964d0c6553f6b6f00fa85f6fb95c3dedeba14165a96c663d31df6c210c2

Pushing image image-registry.openshift-image-registry.svc:5000/mprj-marco-carvalho-docker-build/echo:latest ...
Getting image source signatures
Copying blob sha256:c65691897a4d140d441e2024ce086de996b1c4620832b90c973db81329577274
Copying blob sha256:641d7cc5cbc48a13c68806cf25d5bcf76ea2157c3181e1db4f5d0edae34954ac
Copying config sha256:773b4964d0c6553f6b6f00fa85f6fb95c3dedeba14165a96c663d31df6c210c2
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/mprj-marco-carvalho-docker-build/echo@sha256:88608383c36a7d2c2f9b339698d3b716a812826ea806dcabc5939211a09eb4ae
Push successful
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc status
In project mprj-marco-carvalho-docker-build on server https://api.na45.prod.nextcle.com:6443

dc/echo deploys istag/echo:latest <-
  bc/echo docker builds https://github.com/marcarvalho/DO288-apps#docker-build on istag/ubi:8.0 
  deployment #2 deployed 2 minutes ago - 1 pod
  deployment #1 deployed 21 minutes ago


2 infos identified, use 'oc status --suggest' to see details.
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc get pods
NAME            READY   STATUS      RESTARTS   AGE
echo-1-build    0/1     Completed   0          22m
echo-1-deploy   0/1     Completed   0          21m
echo-2-build    0/1     Completed   0          2m53s
echo-2-deploy   0/1     Completed   0          2m28s
echo-2-wd597    1/1     Running     0          2m25s
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc logs echo-2-wd597
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
[student@workstation DO288-apps]$ nano ubi-echo/Dockerfile 
[student@workstation DO288-apps]$ oc get pods
NAME            READY   STATUS      RESTARTS   AGE
echo-1-build    0/1     Completed   0          24m
echo-1-deploy   0/1     Completed   0          24m
echo-2-build    0/1     Completed   0          5m14s
echo-2-deploy   0/1     Completed   0          4m49s
echo-2-wd597    1/1     Running     0          4m46s
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc logs echo-2-wd597
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
test
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc describe is echo
Name:			echo
Namespace:		mprj-marco-carvalho-docker-build
Created:		28 minutes ago
Labels:			app=echo
			app.kubernetes.io/component=echo
			app.kubernetes.io/instance=echo
Annotations:		openshift.io/generated-by=OpenShiftNewApp
Image Repository:	default-route-openshift-image-registry.apps.na45.prod.nextcle.com/mprj-marco-carvalho-docker-build/echo
Image Lookup:		local=false
Unique Images:		2
Tags:			1

latest
  no spec tag

  * image-registry.openshift-image-registry.svc:5000/mprj-marco-carvalho-docker-build/echo@sha256:88608383c36a7d2c2f9b339698d3b716a812826ea806dcabc5939211a09eb4ae
      9 minutes ago
    image-registry.openshift-image-registry.svc:5000/mprj-marco-carvalho-docker-build/echo@sha256:9492c2d27fc1d172425d2f1424232296b6133056fe0b7613029f67d6764ecaf8
      28 minutes ago
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc delete all -l app=echo
replicationcontroller "echo-1" deleted
replicationcontroller "echo-2" deleted
deploymentconfig.apps.openshift.io "echo" deleted
buildconfig.build.openshift.io "echo" deleted
build.build.openshift.io "echo-1" deleted
build.build.openshift.io "echo-2" deleted
imagestream.image.openshift.io "echo" deleted
imagestream.image.openshift.io "ubi" deleted
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ oc get all
NAME               READY   STATUS        RESTARTS   AGE
pod/echo-2-wd597   1/1     Terminating   0          11m
[student@workstation DO288-apps]$ oc get all
No resources found in mprj-marco-carvalho-docker-build namespace.
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ 
[student@workstation DO288-apps]$ lab docker-build finish

Completing GE: Deploying an Application to an OpenShift Cluster

 · Log in on OpenShift.........................................  SUCCESS
 · Remove exercise files.......................................  SUCCESS
 · Remove solution files.......................................  SUCCESS
 · Delete OpenShift project 'mprj-marco-carvalho-docker-build'.  SUCCESS
 · Wait for project 'mprj-marco-carvalho-docker-build' to be gone  SUCCESS
 · Git repo '/home/student/DO288-apps' has no pending changes..  FAIL

You need to either stash or commit your local changes before moving to the next exercise.
See the Appendix "Managing Git Branches" if you need help to perform these actions

Please use start if you wish to do the exercise again.

[student@workstation DO288-apps]$ lab docker-build finish

Completing GE: Deploying an Application to an OpenShift Cluster

 · Log in on OpenShift.........................................  SUCCESS
 · Remove exercise files.......................................  SUCCESS
 · Remove solution files.......................................  SUCCESS
 · Git repo '/home/student/DO288-apps' has no pending changes..  FAIL

You need to either stash or commit your local changes before moving to the next exercise.
See the Appendix "Managing Git Branches" if you need help to perform these actions

Please use start if you wish to do the exercise again.

[student@workstation DO288-apps]$ git status
# On branch docker-build
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   ubi-echo/Dockerfile
#
no changes added to commit (use "git add" and/or "git commit -a")
[student@workstation DO288-apps]$ git commit -m 'add 01'
# On branch docker-build
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   ubi-echo/Dockerfile
#
no changes added to commit (use "git add" and/or "git commit -a")
[student@workstation DO288-apps]$ git push
Everything up-to-date
[student@workstation DO288-apps]$ oc delete all -l app=echo
Error from server (Forbidden): pods is forbidden: User "mprj-marco-carvalho" cannot list resource "pods" in API group "" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): replicationcontrollers is forbidden: User "mprj-marco-carvalho" cannot list resource "replicationcontrollers" in API group "" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): services is forbidden: User "mprj-marco-carvalho" cannot list resource "services" in API group "" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): daemonsets.apps is forbidden: User "mprj-marco-carvalho" cannot list resource "daemonsets" in API group "apps" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): deployments.apps is forbidden: User "mprj-marco-carvalho" cannot list resource "deployments" in API group "apps" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): replicasets.apps is forbidden: User "mprj-marco-carvalho" cannot list resource "replicasets" in API group "apps" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): statefulsets.apps is forbidden: User "mprj-marco-carvalho" cannot list resource "statefulsets" in API group "apps" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): horizontalpodautoscalers.autoscaling is forbidden: User "mprj-marco-carvalho" cannot list resource "horizontalpodautoscalers" in API group "autoscaling" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): jobs.batch is forbidden: User "mprj-marco-carvalho" cannot list resource "jobs" in API group "batch" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): cronjobs.batch is forbidden: User "mprj-marco-carvalho" cannot list resource "cronjobs" in API group "batch" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): deploymentconfigs.apps.openshift.io is forbidden: User "mprj-marco-carvalho" cannot list resource "deploymentconfigs" in API group "apps.openshift.io" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): buildconfigs.build.openshift.io is forbidden: User "mprj-marco-carvalho" cannot list resource "buildconfigs" in API group "build.openshift.io" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): builds.build.openshift.io is forbidden: User "mprj-marco-carvalho" cannot list resource "builds" in API group "build.openshift.io" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): imagestreams.image.openshift.io is forbidden: User "mprj-marco-carvalho" cannot list resource "imagestreams" in API group "image.openshift.io" in the namespace "mprj-marco-carvalho-docker-build"
Error from server (Forbidden): routes.route.openshift.io is forbidden: User "mprj-marco-carvalho" cannot list resource "routes" in API group "route.openshift.io" in the namespace "mprj-marco-carvalho-docker-build"
[student@workstation DO288-apps]$ lab docker-build finish

Completing GE: Deploying an Application to an OpenShift Cluster

 · Log in on OpenShift.........................................  SUCCESS
 · Remove exercise files.......................................  SUCCESS
 · Remove solution files.......................................  SUCCESS
 · Git repo '/home/student/DO288-apps' has no pending changes..  FAIL

You need to either stash or commit your local changes before moving to the next exercise.
See the Appendix "Managing Git Branches" if you need help to perform these actions

Please use start if you wish to do the exercise again.

[student@workstation DO288-apps]$ git push
Everything up-to-date
[student@workstation DO288-apps]$ lab docker-build finish

Completing GE: Deploying an Application to an OpenShift Cluster

 · Log in on OpenShift.........................................  SUCCESS
 · Remove exercise files.......................................  SUCCESS
 · Remove solution files.......................................  SUCCESS
 · Git repo '/home/student/DO288-apps' has no pending changes..  FAIL

You need to either stash or commit your local changes before moving to the next exercise.
See the Appendix "Managing Git Branches" if you need help to perform these actions

Please use start if you wish to do the exercise again.

[student@workstation DO288-apps]$ git pull
Already up-to-date.
[student@workstation DO288-apps]$ git add .
[student@workstation DO288-apps]$ git commit -m 'add 02'
[docker-build 62a5dc4] add 02
 1 file changed, 1 insertion(+), 1 deletion(-)
[student@workstation DO288-apps]$ git push
Counting objects: 7, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 432 bytes | 0 bytes/s, done.
Total 4 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/marcarvalho/DO288-apps.git
   20d7733..62a5dc4  docker-build -> docker-build
[student@workstation DO288-apps]$ lab docker-build finish

Completing GE: Deploying an Application to an OpenShift Cluster

 · Log in on OpenShift.........................................  SUCCESS
 · Remove exercise files.......................................  SUCCESS
 · Remove solution files.......................................  SUCCESS
 · Git repo '/home/student/DO288-apps' has no pending changes..  SUCCESS

Please use start if you wish to do the exercise again.

[student@workstation DO288-apps]$ 

